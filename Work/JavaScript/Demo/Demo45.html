<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>QQ简易聊天框</title>
    <link rel="stylesheet" href="../CSS/chat.css">
</head>
<body>
<section id="chat">
    <div class="chatBody"></div>
    <div><img src="../images/icon.jpg"></div>
    <textarea class="chatText"></textarea>
    <div class="btn"><span>关闭(C)</span><span id="send">发送(S)</span></div>
</section>
<script src="../../JS/jquery-1.8.3.min.js"></script>
<script>

var ds=function () {
    var newNode=$(".chatText").val();
    if(newNode.length!=""){
        var uName=new Array("时尚伊人","六月奇迹","松松");
        var iNum=parseInt(Math.random()*3);
        var userName=uName[iNum];
        var headStr="<div><img src=../images/head0"+[iNum+1]+".jpg></div>";
        var chatStr="<div style='background: cornflowerblue ;border-radius:4px;'>"+newNode+"</div>";
        var currentStr="<section>"+headStr+userName+chatStr+"</section>";
        var str=$(".chatBody").html();
        $(".chatBody").html(str+currentStr)
        $(".chatText").val("");
    }else{
        alert("不能为空！")
    }
}
        $(document).keydown(function (event) {
            if(event.keyCode=='13'){
                ds();
                $(".chatText").html(null);
            }
        });
        $("#send").click(function () {
            ds();
        });
</script>
</body>
</html>